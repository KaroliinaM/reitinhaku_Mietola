<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml" lang="en"><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8"/><link rel="stylesheet" href="../jacoco-resources/report.css" type="text/css"/><link rel="shortcut icon" href="../jacoco-resources/report.gif" type="image/gif"/><title>HelloWorld.java</title><link rel="stylesheet" href="../jacoco-resources/prettify.css" type="text/css"/><script type="text/javascript" src="../jacoco-resources/prettify.js"></script></head><body onload="window['PR_TAB_WIDTH']=4;prettyPrint()"><div class="breadcrumb" id="breadcrumb"><span class="info"><a href="../jacoco-sessions.html" class="el_session">Sessions</a></span><a href="../index.html" class="el_report">tiralabra-Mietola</a> &gt; <a href="index.source.html" class="el_package">api</a> &gt; <span class="el_source">HelloWorld.java</span></div><h1>HelloWorld.java</h1><pre class="source lang-java linenums">package api;

import ui.FinderUI;
import data.Connection;
import data.Stop;
import java.io.BufferedReader;
import java.io.FileInputStream;
import java.io.FileOutputStream;
import java.io.IOException;
import java.io.InputStreamReader;
import java.io.ObjectInputStream;
import java.io.ObjectOutputStream;
import java.util.ArrayList;
import java.util.HashMap;
import java.util.List;
import java.util.Scanner;

/*
 * To change this license header, choose License Headers in Project Properties.
 * To change this template file, choose Tools | Templates
 * and open the template in the editor.
 */
/**
 * Just random stuff in case I might need it. 
 * @author k
 */
<span class="nc" id="L27">public class HelloWorld {</span>

    public static void main(String[] args) throws IOException {

<span class="nc" id="L31">        FinderUI ui = new FinderUI();</span>

<span class="nc" id="L33">        ui.run();</span>

        /**
         * ArrayList&lt;Stop&gt; stops=new ArrayList&lt;&gt;();
         *
         * Stop stop = new Stop(); stop.setGtfsId(&quot;eka&quot;); stop.setName(&quot;nimi&quot;);
         * stops.add(stop); Stop stop2 = new Stop(); stop.setGtfsId(&quot;toka&quot;);
         * stop.setName(&quot;toinen&quot;); stops.add(stop2);
         *
         * WriteObjectToFile(stops);
         *
         *
         */
        /**
         * ExecuteQuery query = new ExecuteQuery(); Stopdata stopdata = new
         * Stopdata(); Data routeData; Data stopData; String url =
         * &quot;https://api.digitransit.fi/routing/v1/routers/hsl/index/graphql&quot;;
         * String routeQueryString = &quot;{routes { gtfsId shortName longName mode
         * }}&quot;; String stopQueryString= &quot;{stops {gtfsId name lat lon zoneId} }&quot;;
         * // String queryString2= &quot;{route(id:\&quot;HSL:4421\&quot;) { shortName trips //
         * {gtfsId stoptimes { stop {name} scheduledDeparture serviceDay } } }
         * // }&quot;;
         *
         * routeData = query.callApi(url, routeQueryString, stopdata); stopData
         * = query.callApi(url, stopQueryString, stopdata); //query.callApi(url,
         * queryString2, stopdata); List&lt;Route&gt; routes = routeData.getRoutes();
         * HashMap&lt;String, Stop&gt; stops=new HashMap&lt;&gt;(); for(Stop s:
         * stopData.getStops()) { stops.put(s.getGtfsId(), s); }
         *
         * System.out.println(routes.size()); System.out.println(stops.size());
         * int i=10;
         *
         *
         * for (Route r : routes) { System.out.println(r.getGtfsId()); String
         * queryString2 = &quot;{route(id:\&quot;&quot; + r.getGtfsId() + &quot;\&quot;) &quot; + &quot;{ shortName
         * trips {gtfsId stoptimes { stop {gtfsId name} &quot; + &quot;scheduledArrival
         * serviceDay } } } }&quot;; Data data2=query.callApi(url, queryString2,
         * stopdata); List&lt;Trip&gt; trips=data2.getRoute().getTrips(); for(Trip t:
         * trips) { List&lt;Stoptime&gt; stoptimes=t.getStoptimes(); Stoptime
         * previous=null; for(Stoptime s: stoptimes) { if(s.getServiceDay()&gt;0)
         * return; if(previous!=null) { Stop
         * stop=stops.get(previous.getStop().getGtfsId()); //
         * System.out.println(stop.getGtfsId()); stop.addConnection(new
         * Connection(previous.getStop().getGtfsId() , s.getStop().getGtfsId(),
         * s.getScheduledArrival())); // System.out.println(&quot;pysäkiltä &quot; +
         * previous.getStop().getGtfsId() + &quot; pysäkille &quot; +
         * s.getStop().getGtfsId() + &quot; ajassa &quot; + s.getScheduledArrival()); }
         * previous=s; } } // i--; // if(i&lt;0) break; }
         * System.out.println(stops.get(&quot;HSL:1293150&quot;).getConnections().size());
         * System.out.println(stops.get(&quot;HSL:2643225&quot;).getConnections().size());
         * System.out.println(&quot;saving...&quot;); WriteObjectToFile(stops); *
         *
         */
        //    System.out.println(data.getRoutes().get(0).getGtfsId()); String
        //    gtfsid = data.getRoutes().get(0).getGtfsId();
        //    String queryString2 = &quot;{route(id:\&quot;&quot; + data.getRoutes().get(0).getGtfsId() 
        //    + &quot;\&quot;) &quot; + &quot;{ shortName trips {gtfsId stoptimes { stop {name} &quot; 
        //          + &quot;scheduledDeparture serviceDay }} } }&quot;; 
        //    query.callApi(url, queryString2, stopdata);
        /**
         * String line, queryString, url;
         *
         * url =
         * &quot;https://api.digitransit.fi/routing/v1/routers/hsl/index/graphql&quot;;
         * CloseableHttpClient client = null; CloseableHttpResponse response =
         * null;
         *
         * client = HttpClientBuilder.create().build(); HttpPost httpPost = new
         * HttpPost(url);
         *
         * httpPost.addHeader(&quot;Content-Type&quot;, &quot;application/json&quot;);
         *
         * JSONObject jsonobj = new JSONObject(); // jsonobj.put(&quot;query&quot;,
         * &quot;{stops {gtfsId name lat lon zoneId}}&quot;); jsonobj.put(&quot;query&quot;,
         * &quot;{routes { gtfsId shortName longName mode }}&quot;);
         *
         *
         * try { StringEntity entity = new StringEntity(jsonobj.toString());
         * httpPost.setEntity(entity); response = client.execute(httpPost);
         * System.out.println(response.getEntity());
         *
         * BufferedReader bufReader = new BufferedReader(new
         * InputStreamReader(response.getEntity().getContent())); StringBuilder
         * builder = new StringBuilder();
         *
         * while ((line = bufReader.readLine()) != null) { builder.append(line);
         * builder.append(System.lineSeparator()); } /** Stopdata stopdata=new
         * Stopdata(); Gson gson = new Gson(); stopdata=
         * gson.fromJson(builder.toString(), Stopdata.class); *
         * System.out.println(stopdata.getData().getStops().size()); Stopdata
         * stopdata=new Stopdata(); Gson gson = new Gson(); stopdata=
         * gson.fromJson(builder.toString(), Stopdata.class); *
         * System.out.println(stopdata.getData().getRoutes().size()); *
         * System.out.println(builder); } catch (IOException e) {
         * e.printStackTrace(); }*
         */
<span class="nc" id="L129">    }</span>
    /**
     * public static void WriteObjectToFile(Object serObj) {
     *
     * try {
     *
     * FileOutputStream fileOut = new FileOutputStream(filepath);
     * ObjectOutputStream objectOut = new ObjectOutputStream(fileOut);
     * objectOut.writeObject(serObj); objectOut.close(); System.out.println(&quot;The
     * Object was succesfully written to a file&quot;);
     *
     * } catch (Exception ex) { ex.printStackTrace(); } }
     *
     *
     */
}
</pre><div class="footer"><span class="right">Created with <a href="http://www.jacoco.org/jacoco">JaCoCo</a> 0.8.2.201808211720</span></div></body></html>